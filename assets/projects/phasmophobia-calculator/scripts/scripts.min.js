"use strict";
/*!
 * @copyright Copyright (c) 2017 IcoMoon.io
 * @license   Licensed under MIT license
 *            See https://github.com/Keyamoon/svgxuse
 * @version   1.2.6
 */!function(){if("undefined"!=typeof window&&window.addEventListener){var e,n,t,c=Object.create(null),i=function(){clearTimeout(n),n=setTimeout(e,100)},d=function(){},o=function(e){function n(e){var n;return void 0!==e.protocol?n=e:(n=document.createElement("a")).href=e,n.protocol.replace(/:/g,"")+n.host}var t,c,i;return window.XMLHttpRequest&&(t=new XMLHttpRequest,c=n(location),i=n(e),t=void 0===t.withCredentials&&""!==i&&i!==c?XDomainRequest||void 0:XMLHttpRequest),t},s="http://www.w3.org/1999/xlink";e=function(){var e,n,t,r,a,l,u,v,y,h,p=0;function m(){var e;0===(p-=1)&&(d(),window.addEventListener("resize",i,!1),window.addEventListener("orientationchange",i,!1),window.MutationObserver?((e=new MutationObserver(i)).observe(document.documentElement,{childList:!0,subtree:!0,attributes:!0}),d=function(){try{e.disconnect(),window.removeEventListener("resize",i,!1),window.removeEventListener("orientationchange",i,!1)}catch(e){}}):(document.documentElement.addEventListener("DOMSubtreeModified",i,!1),d=function(){document.documentElement.removeEventListener("DOMSubtreeModified",i,!1),window.removeEventListener("resize",i,!1),window.removeEventListener("orientationchange",i,!1)}))}function g(e){return function(){!0!==c[e.base]&&(e.useEl.setAttributeNS(s,"xlink:href","#"+e.hash),e.useEl.hasAttribute("href")&&e.useEl.setAttribute("href","#"+e.hash))}}function E(e){return function(){var n,t=document.body,c=document.createElement("x");e.onload=null,c.innerHTML=e.responseText,(n=c.getElementsByTagName("svg")[0])&&(n.setAttribute("aria-hidden","true"),n.style.position="absolute",n.style.width=0,n.style.height=0,n.style.overflow="hidden",t.insertBefore(n,t.firstChild)),m()}}function T(e){return function(){e.onerror=null,e.ontimeout=null,m()}}for(d(),y=document.getElementsByTagName("use"),a=0;a<y.length;a+=1){try{n=y[a].getBoundingClientRect()}catch(e){n=!1}e=(v=(r=y[a].getAttribute("href")||y[a].getAttributeNS(s,"href")||y[a].getAttribute("xlink:href"))&&r.split?r.split("#"):["",""])[0],t=v[1],l=n&&0===n.left&&0===n.right&&0===n.top&&0===n.bottom,n&&0===n.width&&0===n.height&&!l?(y[a].hasAttribute("href")&&y[a].setAttributeNS(s,"xlink:href",r),e.length&&(!0!==(h=c[e])&&setTimeout(g({useEl:y[a],base:e,hash:t}),0),void 0===h&&void 0!==(u=o(e))&&(h=new u,c[e]=h,h.onload=E(h),h.onerror=T(h),h.ontimeout=T(h),h.open("GET",e),h.send(),p+=1))):l?e.length&&c[e]&&setTimeout(g({useEl:y[a],base:e,hash:t}),0):void 0===c[e]?c[e]=!0:c[e].onload&&(c[e].abort(),delete c[e].onload,c[e]=!0)}y="",p+=1,m()},t=function(){window.removeEventListener("load",t,!1),n=setTimeout(e,0)},"complete"!==document.readyState?window.addEventListener("load",t,!1):t()}}();var $nextItem,checkedEvidences=[],unwantedEvidences=[],filteredArr=[],language="",nextIndex=0,$list=document.querySelector(".evidence__list"),colors=["","#70bb1f","#968E6B"],headerPhrasesArr={en:["PHRASES","CALC"],ru:["ФРАЗЫ","КАЛЬКУЛЯТОР"]},ghosts=[{name:ghostType[0],evidences:[evidenceType[0],evidenceType[5],evidenceType[6]]},{name:ghostType[1],evidences:[evidenceType[0],evidenceType[3],evidenceType[6]]},{name:ghostType[2],evidences:[evidenceType[0],evidenceType[2],evidenceType[5]]},{name:ghostType[3],evidences:[evidenceType[1],evidenceType[3],evidenceType[5]]},{name:ghostType[4],evidences:[evidenceType[1],evidenceType[4],evidenceType[6]]},{name:ghostType[5],evidences:[evidenceType[0],evidenceType[3],evidenceType[4]]},{name:ghostType[6],evidences:[evidenceType[0],evidenceType[2],evidenceType[4]]},{name:ghostType[7],evidences:[evidenceType[1],evidenceType[3],evidenceType[4]]},{name:ghostType[8],evidences:[evidenceType[1],evidenceType[2],evidenceType[5]]},{name:ghostType[9],evidences:[evidenceType[1],evidenceType[2],evidenceType[4]]},{name:ghostType[10],evidences:[evidenceType[1],evidenceType[5],evidenceType[6]]},{name:ghostType[11],evidences:[evidenceType[2],evidenceType[4],evidenceType[6]]},{name:ghostType[12],evidences:[evidenceType[0],evidenceType[3],evidenceType[5]]},{name:ghostType[13],evidences:[evidenceType[3],evidenceType[4],evidenceType[6]]},{name:ghostType[14],evidences:[evidenceType[0],evidenceType[2],evidenceType[6]]},{name:ghostType[15],evidences:[evidenceType[1],evidenceType[2],evidenceType[6]]}];function phrasesBtn(e){document.body.classList.contains("phrases-show")?(document.querySelector(".phrases").style.display="none",document.querySelector(".evidence").style.display="block",e.target.textContent=headerPhrasesArr[language][0]):(document.querySelector(".evidence").style.display="none",document.querySelector(".phrases").style.display="block",e.target.textContent=headerPhrasesArr[language][1]),document.body.classList.toggle("phrases-show")}function phrasesLabel(e){var n=e.target.closest("li"),t=document.getElementById("phrases__label").querySelectorAll("li"),c=document.getElementById("phrases__text").querySelectorAll("div");t.forEach((function(e){return e.classList.remove("label-active")})),e.target.closest("li").classList.add("label-active"),n.classList.contains("phrases__all-label")?c.forEach((function(e){return e.style.display="block"})):(c.forEach((function(e){return e.style.display="none"})),n.classList.contains("phrases__general-label")?document.querySelector(".phrases__general").style.display="block":n.classList.contains("phrases__box-label")?document.querySelector(".phrases__box").style.display="block":n.classList.contains("phrases__board-label")?document.querySelector(".phrases__board").style.display="block":n.classList.contains("phrases__trigger-label")&&(document.querySelector(".phrases__trigger").style.display="block"))}function changeTheme(){localStorage.getItem("theme-switched")?(document.body.classList.toggle("theme"),localStorage.removeItem("theme-switched")):(document.body.classList.toggle("theme"),localStorage.setItem("theme-switched",JSON.stringify(!0)))}function resetBtn(){checkedEvidences=[],unwantedEvidences=[],filteredArr=[],document.querySelectorAll(".evidence__body").forEach((function(e){return e.style.backgroundColor=colors[0]})),$list.textContent=""}function updateEvidenceTable(e){var n=e.target.closest(".evidence__item").querySelector(".evidence__body"),t=e.target.closest(".evidence__item").querySelector("span").dataset.type;e.target.closest(".evidence__not-icon")||unwantedEvidences.includes(t)?unwantedEvidence(t,n):checkedEvidences.includes(t)?removeEvidence(t,n):checkedEvidences.length>2?maxEvidence():addEvidence(t,n),updateEvidence()}function unwantedEvidence(e,n){checkedEvidences.includes(e)?(removeEvidence(e,n),unwantedEvidences.push(e),n.style.backgroundColor=colors[2]):unwantedEvidences.includes(e)?(unwantedEvidences.splice(unwantedEvidences.indexOf(e),1),n.style.backgroundColor=colors[0]):unwantedEvidences.includes(e)&&checkedEvidences!==[]||(unwantedEvidences.push(e),n.style.backgroundColor=colors[2])}function removeEvidence(e,n){checkedEvidences.splice(checkedEvidences.indexOf(e),1),n.style.backgroundColor=colors[0]}function maxEvidence(){"en"===language&&(document.querySelector(".evidence__warning").textContent="Can not be more than 3 evidences!"),"ru"===language&&(document.querySelector(".evidence__warning").textContent="Не может быть больше 3 улик!"),setTimeout((function(){return document.querySelector(".evidence__warning").textContent=""}),3e3)}function addEvidence(e,n){checkedEvidences.push(e),n.style.backgroundColor=colors[1],evidenceType.forEach((function(n,t){n===e&&(nextIndex=t%2==0?++t:--t)})),nextIndex!==evidenceType.length&&unwantedEvidence(($nextItem=document.getElementById("evidence__table").querySelectorAll(".evidence__item")[nextIndex].querySelector(".evidence__body")).querySelector("span").dataset.type,$nextItem)}function updateEvidence(){filterEvidence(ghosts,checkedEvidences),dispayList(filteredArr)}function filterEvidence(e,n){filteredArr=[],e.forEach((function(e){var t=!0;unwantedEvidences.forEach((function(n){e.evidences.includes(n)&&(t=!1)})),n.forEach((function(n){e.evidences.includes(n)||(t=!1)})),t&&filteredArr.push(e)}))}function dispayList(e){$list.textContent="",(checkedEvidences.length>0||unwantedEvidences.length>0)&&e.forEach((function(e){var n=document.createElement("li");3===checkedEvidences.length?n.textContent=e.name:(n.textContent=e.name+" - ",e.evidences.forEach((function(e){checkedEvidences.includes(e)||(n.textContent+=e+", ")})),n.textContent=n.textContent.slice(0,-2)),$list.appendChild(n)}))}document.getElementById("header__phrases").addEventListener("click",phrasesBtn),document.getElementById("phrases__label").addEventListener("click",phrasesLabel),document.getElementById("header__theme").addEventListener("click",changeTheme),document.getElementById("evidence__reset").addEventListener("click",resetBtn),document.getElementById("evidence__table").addEventListener("click",updateEvidenceTable),language=document.body.classList.contains("en")?"en":"ru";