"use strict";

function _createForOfIteratorHelper(o, allowArrayLike) { var it; if (typeof Symbol === "undefined" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === "number") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

// nav mobile toggle
var $navIcon = document.querySelector('.nav__menu-icon');
$navIcon.addEventListener('click', function () {
  document.body.classList.toggle('menu-active');
});
var mobile = window.matchMedia("(max-width: 767.9px)");
var laptop = window.matchMedia("(min-width: 768px) and (max-width: 1250px)");
var desktop = window.matchMedia("(min-width: 1251px)"); // ==============================================
// if make page

if (document.body.dataset.page === 'make-page') {
  // make page add pizza items
  document.querySelector('.maker').querySelector('.maker__body').addEventListener('click', updatePizza);
  var $pizzaContainer = document.querySelector('.maker-pizza-bg');
  var pizzaLayers = 2;
  var pizzaTemp = [];
  var images = {
    'Красный': 'Красный.png',
    'Белый': 'Белый.png',
    'Цезарь': 'Белый.png',
    'Барбекю': 'Красный.png',
    'Томат': 'Томат.png',
    'Ананас': 'Ананас.png',
    'Маслины': 'Маслины.png',
    'Корнишоны': 'Корнишоны.png',
    'Салат': 'Салат.png',
    'Халапеньо': 'Халапеньо.png',
    'Перец': 'Перец.png',
    'Шампиньоны': 'Шампиньоны.png',
    'Лук': 'Лук.png',
    'Филе': 'Филе.png',
    'Фарш': 'Фарш.png',
    'Охотничьи': 'Охотничьи.png',
    'Копченый': 'Копченый.png',
    'Ветчина': 'Ветчина.png',
    'Бекон': 'Бекон.png',
    'Пепперони': 'Пепперони.png',
    'Креветки': 'Креветки.png',
    'Лосось': 'Лосось.png',
    'Мидии': 'Фарш.png',
    'Салями': 'Салями.png',
    'Моцарелла': 'Моцарелла.png',
    'Пармезан': 'Пармезан.png'
  };

  function updatePizza(event) {
    var $pizzaSpan = event.target.closest('.maker-row__product').querySelector('span');
    var $pizzaType = event.target.closest('.maker-row__product').dataset.type;
    var div = document.createElement('div');

    for (var key in images) {
      if ($pizzaType === key) {
        if (pizzaTemp.includes(key)) {
          $pizzaSpan.style.display = 'none';
          var remove = $pizzaContainer.querySelector("[data-bg=".concat(key, "]"));
          $pizzaContainer.removeChild(remove);
          pizzaTemp.splice(pizzaTemp.indexOf($pizzaType), 1);
        } else {
          $pizzaSpan.style.display = 'block';
          div.setAttribute('data-bg', $pizzaType);
          div.style.backgroundImage = "url('./assets/img/".concat(images[key], "')");
          div.style.zIndex = pizzaLayers;
          $pizzaContainer.appendChild(div);
          pizzaTemp.push(key);
        }
      }
    }

    pizzaLayers++;
  } // clear all button


  document.querySelectorAll('.pizza-new').forEach(function (el) {
    return el.addEventListener('click', clearPizza);
  });

  function clearPizza() {
    document.querySelector('.maker').querySelectorAll('.maker-row__product').forEach(function (el) {
      return el.querySelector('span').style.display = 'none';
    });
    $pizzaContainer.innerHTML = '';
    pizzaLayers = 2;
    pizzaTemp = [];
  }
} // ==============================================
// if half page


if (document.body.dataset.page === 'half-page') {
  // accordion mobile half page
  var accordions = document.querySelectorAll('.accordion');

  var _iterator = _createForOfIteratorHelper(accordions),
      _step;

  try {
    var _loop = function _loop() {
      var accordion = _step.value;
      var panels = accordion.querySelectorAll('.accordion__panel');

      var _iterator2 = _createForOfIteratorHelper(panels),
          _step2;

      try {
        var _loop2 = function _loop2() {
          var panel = _step2.value;
          var head = panel.querySelector('.accordion__header');
          head.addEventListener('click', function () {
            var _iterator3 = _createForOfIteratorHelper(panels),
                _step3;

            try {
              for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {
                var otherPanel = _step3.value;

                if (otherPanel !== panel) {
                  otherPanel.classList.remove('accordion__expanded');
                }
              }
            } catch (err) {
              _iterator3.e(err);
            } finally {
              _iterator3.f();
            }

            panel.classList.toggle('accordion__expanded');
          });
        };

        for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {
          _loop2();
        }
      } catch (err) {
        _iterator2.e(err);
      } finally {
        _iterator2.f();
      }
    };

    for (_iterator.s(); !(_step = _iterator.n()).done;) {
      _loop();
    } // half page add pizza items

  } catch (err) {
    _iterator.e(err);
  } finally {
    _iterator.f();
  }

  document.querySelector('.half').querySelector('.maker__body').addEventListener('click', updateHalf);
  var warning = document.querySelector('.half').querySelectorAll('.half__warning');
  var $halfContainer = document.querySelector('.half-pizza-bg');
  var halfTemp = [];
  var firstHalf = ['1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12'];
  var secondHalf = ['13', '14', '15', '16', '17', '18', '19', '20', '21', '22', '23', '24'];
  var imagesHalf = {
    '1': 'Адриано-Итальяно.png',
    '2': 'Сырная-Банда.png',
    '3': 'Томатный-Цыпленок.png',
    '4': 'Цезарь.png',
    '5': 'Ананасовый-Экспресс.png',
    '6': 'Болгарский-Перец.png',
    '7': 'Грибная-Цыпа.png',
    '8': 'Джони-Пеперони.png',
    '9': 'Дочь-Мясника.png',
    '10': 'Марго-Рита.png',
    '11': 'Пивная.png',
    '12': 'Подводная-Братва.png',
    '13': 'Адриано-Итальяно.png',
    '14': 'Сырная-Банда.png',
    '15': 'Томатный-Цыпленок.png',
    '16': 'Цезарь.png',
    '17': 'Ананасовый-Экспресс.png',
    '18': 'Болгарский-Перец.png',
    '19': 'Грибная-Цыпа.png',
    '20': 'Джони-Пеперони.png',
    '21': 'Дочь-Мясника.png',
    '22': 'Марго-Рита.png',
    '23': 'Пивная.png',
    '24': 'Подводная-Братва.png'
  };

  function updateHalf(event) {
    var $halfSpan, $halfNum;

    if (event.target.closest('.maker-row__product')) {
      $halfSpan = event.target.closest('.maker-row__product').querySelector('span');
      $halfNum = event.target.closest('.maker-row__product').dataset.number;
    }

    if (halfTemp.includes($halfNum)) {
      $halfSpan.removeAttribute('style');
      var remove = $halfContainer.querySelector("[data-halfbg=\"".concat($halfNum, "\"]"));
      $halfContainer.removeChild(remove);
      halfTemp.splice(halfTemp.indexOf($halfNum), 1);
    } else if (halfTemp.length === 0) {
      pushHalf();
    } else if (halfTemp.length === 1) {
      if (firstHalf.includes($halfNum) && !firstHalf.includes(halfTemp[0]) || secondHalf.includes($halfNum) && !secondHalf.includes(halfTemp[0])) {
        pushHalf();
      }
    }

    if (halfTemp.length === 2) {
      warning.forEach(function (el) {
        return el.style.display = 'none';
      });
      if (desktop.matches) document.querySelector('.half').querySelector('.maker__body').style.marginTop = '80px';
      if (laptop.matches) document.querySelector('.half').querySelector('.maker-text__control').style.marginTop = '30px';
    }

    if (halfTemp.length < 2) {
      clearStyles();
    }

    function pushHalf() {
      halfTemp.push($halfNum);
      $halfSpan.style.display = 'block';
      var div = document.createElement('div');

      for (var key in imagesHalf) {
        if ($halfNum === key) {
          if (firstHalf.includes($halfNum)) {
            if (desktop.matches) div.classList.add('half-left-desktop');
            if (laptop.matches) div.classList.add('half-left-laptop');
            if (mobile.matches) div.classList.add('half-left-mobile');
          } else if (secondHalf.includes($halfNum)) {
            if (desktop.matches) div.classList.add('half-right-desktop');
            if (laptop.matches) div.classList.add('half-right-laptop');
            if (mobile.matches) div.classList.add('half-right-mobile');
          }

          div.setAttribute('data-halfbg', $halfNum);
          div.style.backgroundImage = "url('./assets/img/".concat(imagesHalf[key], "')");
          $halfContainer.appendChild(div);
        }
      }
    }
  } // clear all button


  document.querySelectorAll('.half-new').forEach(function (el) {
    return el.addEventListener('click', clearHalf);
  });

  function clearHalf() {
    document.querySelector('.half').querySelectorAll('.maker-row__product').forEach(function (el) {
      if (el.querySelector('span').hasAttribute('style')) {
        el.querySelector('span').removeAttribute('style');
      }
    });
    halfTemp = [];
    $halfContainer.innerHTML = '';
    clearStyles();
  }

  function clearStyles() {
    if (desktop.matches) document.querySelector('.warning__desktop').style.display = 'flex';
    if (laptop.matches) document.querySelector('.warning__laptop').style.display = 'flex';
    document.querySelector('.half').querySelector('.maker__body').style.marginTop = '0';
    if (desktop.matches) document.querySelector('.half').querySelector('.maker__body').style.marginTop = '0';
    if (laptop.matches) document.querySelector('.half').querySelector('.maker-text__control').style.marginTop = '0';
  }
}
/*!
 * @copyright Copyright (c) 2017 IcoMoon.io
 * @license   Licensed under MIT license
 *            See https://github.com/Keyamoon/svgxuse
 * @version   1.2.6
 */

/*jslint browser: true */

/*global XDomainRequest, MutationObserver, window */


(function () {
  "use strict";

  if (typeof window !== "undefined" && window.addEventListener) {
    var cache = Object.create(null); // holds xhr objects to prevent multiple requests

    var checkUseElems;
    var tid; // timeout id

    var debouncedCheck = function debouncedCheck() {
      clearTimeout(tid);
      tid = setTimeout(checkUseElems, 100);
    };

    var unobserveChanges = function unobserveChanges() {
      return;
    };

    var observeChanges = function observeChanges() {
      var observer;
      window.addEventListener("resize", debouncedCheck, false);
      window.addEventListener("orientationchange", debouncedCheck, false);

      if (window.MutationObserver) {
        observer = new MutationObserver(debouncedCheck);
        observer.observe(document.documentElement, {
          childList: true,
          subtree: true,
          attributes: true
        });

        unobserveChanges = function unobserveChanges() {
          try {
            observer.disconnect();
            window.removeEventListener("resize", debouncedCheck, false);
            window.removeEventListener("orientationchange", debouncedCheck, false);
          } catch (ignore) {}
        };
      } else {
        document.documentElement.addEventListener("DOMSubtreeModified", debouncedCheck, false);

        unobserveChanges = function unobserveChanges() {
          document.documentElement.removeEventListener("DOMSubtreeModified", debouncedCheck, false);
          window.removeEventListener("resize", debouncedCheck, false);
          window.removeEventListener("orientationchange", debouncedCheck, false);
        };
      }
    };

    var createRequest = function createRequest(url) {
      // In IE 9, cross origin requests can only be sent using XDomainRequest.
      // XDomainRequest would fail if CORS headers are not set.
      // Therefore, XDomainRequest should only be used with cross origin requests.
      function getOrigin(loc) {
        var a;

        if (loc.protocol !== undefined) {
          a = loc;
        } else {
          a = document.createElement("a");
          a.href = loc;
        }

        return a.protocol.replace(/:/g, "") + a.host;
      }

      var Request;
      var origin;
      var origin2;

      if (window.XMLHttpRequest) {
        Request = new XMLHttpRequest();
        origin = getOrigin(location);
        origin2 = getOrigin(url);

        if (Request.withCredentials === undefined && origin2 !== "" && origin2 !== origin) {
          Request = XDomainRequest || undefined;
        } else {
          Request = XMLHttpRequest;
        }
      }

      return Request;
    };

    var xlinkNS = "http://www.w3.org/1999/xlink";

    checkUseElems = function checkUseElems() {
      var base;
      var bcr;
      var fallback = ""; // optional fallback URL in case no base path to SVG file was given and no symbol definition was found.

      var hash;
      var href;
      var i;
      var inProgressCount = 0;
      var isHidden;
      var Request;
      var url;
      var uses;
      var xhr;

      function observeIfDone() {
        // If done with making changes, start watching for chagnes in DOM again
        inProgressCount -= 1;

        if (inProgressCount === 0) {
          // if all xhrs were resolved
          unobserveChanges(); // make sure to remove old handlers

          observeChanges(); // watch for changes to DOM
        }
      }

      function attrUpdateFunc(spec) {
        return function () {
          if (cache[spec.base] !== true) {
            spec.useEl.setAttributeNS(xlinkNS, "xlink:href", "#" + spec.hash);

            if (spec.useEl.hasAttribute("href")) {
              spec.useEl.setAttribute("href", "#" + spec.hash);
            }
          }
        };
      }

      function onloadFunc(xhr) {
        return function () {
          var body = document.body;
          var x = document.createElement("x");
          var svg;
          xhr.onload = null;
          x.innerHTML = xhr.responseText;
          svg = x.getElementsByTagName("svg")[0];

          if (svg) {
            svg.setAttribute("aria-hidden", "true");
            svg.style.position = "absolute";
            svg.style.width = 0;
            svg.style.height = 0;
            svg.style.overflow = "hidden";
            body.insertBefore(svg, body.firstChild);
          }

          observeIfDone();
        };
      }

      function onErrorTimeout(xhr) {
        return function () {
          xhr.onerror = null;
          xhr.ontimeout = null;
          observeIfDone();
        };
      }

      unobserveChanges(); // stop watching for changes to DOM
      // find all use elements

      uses = document.getElementsByTagName("use");

      for (i = 0; i < uses.length; i += 1) {
        try {
          bcr = uses[i].getBoundingClientRect();
        } catch (ignore) {
          // failed to get bounding rectangle of the use element
          bcr = false;
        }

        href = uses[i].getAttribute("href") || uses[i].getAttributeNS(xlinkNS, "href") || uses[i].getAttribute("xlink:href");

        if (href && href.split) {
          url = href.split("#");
        } else {
          url = ["", ""];
        }

        base = url[0];
        hash = url[1];
        isHidden = bcr && bcr.left === 0 && bcr.right === 0 && bcr.top === 0 && bcr.bottom === 0;

        if (bcr && bcr.width === 0 && bcr.height === 0 && !isHidden) {
          // the use element is empty
          // if there is a reference to an external SVG, try to fetch it
          // use the optional fallback URL if there is no reference to an external SVG
          if (fallback && !base.length && hash && !document.getElementById(hash)) {
            base = fallback;
          }

          if (uses[i].hasAttribute("href")) {
            uses[i].setAttributeNS(xlinkNS, "xlink:href", href);
          }

          if (base.length) {
            // schedule updating xlink:href
            xhr = cache[base];

            if (xhr !== true) {
              // true signifies that prepending the SVG was not required
              setTimeout(attrUpdateFunc({
                useEl: uses[i],
                base: base,
                hash: hash
              }), 0);
            }

            if (xhr === undefined) {
              Request = createRequest(base);

              if (Request !== undefined) {
                xhr = new Request();
                cache[base] = xhr;
                xhr.onload = onloadFunc(xhr);
                xhr.onerror = onErrorTimeout(xhr);
                xhr.ontimeout = onErrorTimeout(xhr);
                xhr.open("GET", base);
                xhr.send();
                inProgressCount += 1;
              }
            }
          }
        } else {
          if (!isHidden) {
            if (cache[base] === undefined) {
              // remember this URL if the use element was not empty and no request was sent
              cache[base] = true;
            } else if (cache[base].onload) {
              // if it turns out that prepending the SVG is not necessary,
              // abort the in-progress xhr.
              cache[base].abort();
              delete cache[base].onload;
              cache[base] = true;
            }
          } else if (base.length && cache[base]) {
            setTimeout(attrUpdateFunc({
              useEl: uses[i],
              base: base,
              hash: hash
            }), 0);
          }
        }
      }

      uses = "";
      inProgressCount += 1;
      observeIfDone();
    };

    var _winLoad;

    _winLoad = function winLoad() {
      window.removeEventListener("load", _winLoad, false); // to prevent memory leaks

      tid = setTimeout(checkUseElems, 0);
    };

    if (document.readyState !== "complete") {
      // The load event fires when all resources have finished loading, which allows detecting whether SVG use elements are empty.
      window.addEventListener("load", _winLoad, false);
    } else {
      // No need to add a listener if the document is already loaded, initialize immediately.
      _winLoad();
    }
  }
})();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdHMuanMiXSwibmFtZXMiOlsiJG5hdkljb24iLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJhZGRFdmVudExpc3RlbmVyIiwiYm9keSIsImNsYXNzTGlzdCIsInRvZ2dsZSIsIm1vYmlsZSIsIndpbmRvdyIsIm1hdGNoTWVkaWEiLCJsYXB0b3AiLCJkZXNrdG9wIiwiZGF0YXNldCIsInBhZ2UiLCJ1cGRhdGVQaXp6YSIsIiRwaXp6YUNvbnRhaW5lciIsInBpenphTGF5ZXJzIiwicGl6emFUZW1wIiwiaW1hZ2VzIiwiZXZlbnQiLCIkcGl6emFTcGFuIiwidGFyZ2V0IiwiY2xvc2VzdCIsIiRwaXp6YVR5cGUiLCJ0eXBlIiwiZGl2IiwiY3JlYXRlRWxlbWVudCIsImtleSIsImluY2x1ZGVzIiwic3R5bGUiLCJkaXNwbGF5IiwicmVtb3ZlIiwicmVtb3ZlQ2hpbGQiLCJzcGxpY2UiLCJpbmRleE9mIiwic2V0QXR0cmlidXRlIiwiYmFja2dyb3VuZEltYWdlIiwiekluZGV4IiwiYXBwZW5kQ2hpbGQiLCJwdXNoIiwicXVlcnlTZWxlY3RvckFsbCIsImZvckVhY2giLCJlbCIsImNsZWFyUGl6emEiLCJpbm5lckhUTUwiLCJhY2NvcmRpb25zIiwiYWNjb3JkaW9uIiwicGFuZWxzIiwicGFuZWwiLCJoZWFkIiwib3RoZXJQYW5lbCIsInVwZGF0ZUhhbGYiLCJ3YXJuaW5nIiwiJGhhbGZDb250YWluZXIiLCJoYWxmVGVtcCIsImZpcnN0SGFsZiIsInNlY29uZEhhbGYiLCJpbWFnZXNIYWxmIiwiJGhhbGZTcGFuIiwiJGhhbGZOdW0iLCJudW1iZXIiLCJyZW1vdmVBdHRyaWJ1dGUiLCJsZW5ndGgiLCJwdXNoSGFsZiIsIm1hdGNoZXMiLCJtYXJnaW5Ub3AiLCJjbGVhclN0eWxlcyIsImFkZCIsImNsZWFySGFsZiIsImhhc0F0dHJpYnV0ZSIsImNhY2hlIiwiT2JqZWN0IiwiY3JlYXRlIiwiY2hlY2tVc2VFbGVtcyIsInRpZCIsImRlYm91bmNlZENoZWNrIiwiY2xlYXJUaW1lb3V0Iiwic2V0VGltZW91dCIsInVub2JzZXJ2ZUNoYW5nZXMiLCJvYnNlcnZlQ2hhbmdlcyIsIm9ic2VydmVyIiwiTXV0YXRpb25PYnNlcnZlciIsIm9ic2VydmUiLCJkb2N1bWVudEVsZW1lbnQiLCJjaGlsZExpc3QiLCJzdWJ0cmVlIiwiYXR0cmlidXRlcyIsImRpc2Nvbm5lY3QiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiaWdub3JlIiwiY3JlYXRlUmVxdWVzdCIsInVybCIsImdldE9yaWdpbiIsImxvYyIsImEiLCJwcm90b2NvbCIsInVuZGVmaW5lZCIsImhyZWYiLCJyZXBsYWNlIiwiaG9zdCIsIlJlcXVlc3QiLCJvcmlnaW4iLCJvcmlnaW4yIiwiWE1MSHR0cFJlcXVlc3QiLCJsb2NhdGlvbiIsIndpdGhDcmVkZW50aWFscyIsIlhEb21haW5SZXF1ZXN0IiwieGxpbmtOUyIsImJhc2UiLCJiY3IiLCJmYWxsYmFjayIsImhhc2giLCJpIiwiaW5Qcm9ncmVzc0NvdW50IiwiaXNIaWRkZW4iLCJ1c2VzIiwieGhyIiwib2JzZXJ2ZUlmRG9uZSIsImF0dHJVcGRhdGVGdW5jIiwic3BlYyIsInVzZUVsIiwic2V0QXR0cmlidXRlTlMiLCJvbmxvYWRGdW5jIiwieCIsInN2ZyIsIm9ubG9hZCIsInJlc3BvbnNlVGV4dCIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwicG9zaXRpb24iLCJ3aWR0aCIsImhlaWdodCIsIm92ZXJmbG93IiwiaW5zZXJ0QmVmb3JlIiwiZmlyc3RDaGlsZCIsIm9uRXJyb3JUaW1lb3V0Iiwib25lcnJvciIsIm9udGltZW91dCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsImdldEF0dHJpYnV0ZSIsImdldEF0dHJpYnV0ZU5TIiwic3BsaXQiLCJsZWZ0IiwicmlnaHQiLCJ0b3AiLCJib3R0b20iLCJnZXRFbGVtZW50QnlJZCIsIm9wZW4iLCJzZW5kIiwiYWJvcnQiLCJ3aW5Mb2FkIiwicmVhZHlTdGF0ZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQTtBQUNB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QUhEOztBQUlBLFFBQUl4RSxRQUFRLENBQUNxSixVQUFULEtBQXdCLFVBQTVCLEVBQXdDO0FBQ3BDO0FBQ0E5SSxNQUFBQSxNQUFNLENBQUNMLGdCQUFQLENBQXdCLE1BQXhCLEVBQWdDa0osUUFBaEMsRUFBeUMsS0FBekM7QUFDSCxLQUhELE1BR087QUFDSDtBQUNBQSxNQUFBQSxRQUFPO0FBQ1Y7QUFDSjtBQUNKLENBN05BLEdBQUQiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBuYXYgbW9iaWxlIHRvZ2dsZVxyXG5sZXQgJG5hdkljb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubmF2X19tZW51LWljb24nKVxyXG5cclxuJG5hdkljb24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpIHtcclxuICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnRvZ2dsZSgnbWVudS1hY3RpdmUnKVxyXG59KVxyXG5cclxuY29uc3QgbW9iaWxlID0gd2luZG93Lm1hdGNoTWVkaWEoXCIobWF4LXdpZHRoOiA3NjcuOXB4KVwiKVxyXG5jb25zdCBsYXB0b3AgPSB3aW5kb3cubWF0Y2hNZWRpYShcIihtaW4td2lkdGg6IDc2OHB4KSBhbmQgKG1heC13aWR0aDogMTI1MHB4KVwiKVxyXG5jb25zdCBkZXNrdG9wID0gd2luZG93Lm1hdGNoTWVkaWEoXCIobWluLXdpZHRoOiAxMjUxcHgpXCIpXHJcblxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vIGlmIG1ha2UgcGFnZVxyXG5pZiAoZG9jdW1lbnQuYm9keS5kYXRhc2V0LnBhZ2UgPT09ICdtYWtlLXBhZ2UnKSB7XHJcbiAgICAvLyBtYWtlIHBhZ2UgYWRkIHBpenphIGl0ZW1zXHJcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubWFrZXInKS5xdWVyeVNlbGVjdG9yKCcubWFrZXJfX2JvZHknKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHVwZGF0ZVBpenphKVxyXG5cclxuICAgIGNvbnN0ICRwaXp6YUNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tYWtlci1waXp6YS1iZycpXHJcblxyXG4gICAgbGV0IHBpenphTGF5ZXJzID0gMlxyXG4gICAgbGV0IHBpenphVGVtcCA9IFtdXHJcblxyXG4gICAgY29uc3QgaW1hZ2VzID0ge1xyXG4gICAgICAgICfQmtGA0LDRgdC90YvQuSc6ICfQmtGA0LDRgdC90YvQuS5wbmcnLFxyXG4gICAgICAgICfQkdC10LvRi9C5JzogJ9CR0LXQu9GL0LkucG5nJyxcclxuICAgICAgICAn0KbQtdC30LDRgNGMJzogJ9CR0LXQu9GL0LkucG5nJyxcclxuICAgICAgICAn0JHQsNGA0LHQtdC60Y4nOiAn0JrRgNCw0YHQvdGL0LkucG5nJyxcclxuICAgICAgICAn0KLQvtC80LDRgic6ICfQotC+0LzQsNGCLnBuZycsXHJcbiAgICAgICAgJ9CQ0L3QsNC90LDRgSc6ICfQkNC90LDQvdCw0YEucG5nJyxcclxuICAgICAgICAn0JzQsNGB0LvQuNC90YsnOiAn0JzQsNGB0LvQuNC90YsucG5nJyxcclxuICAgICAgICAn0JrQvtGA0L3QuNGI0L7QvdGLJzogJ9Ca0L7RgNC90LjRiNC+0L3Riy5wbmcnLFxyXG4gICAgICAgICfQodCw0LvQsNGCJzogJ9Ch0LDQu9Cw0YIucG5nJyxcclxuICAgICAgICAn0KXQsNC70LDQv9C10L3RjNC+JzogJ9Cl0LDQu9Cw0L/QtdC90YzQvi5wbmcnLFxyXG4gICAgICAgICfQn9C10YDQtdGGJzogJ9Cf0LXRgNC10YYucG5nJyxcclxuICAgICAgICAn0KjQsNC80L/QuNC90YzQvtC90YsnOiAn0KjQsNC80L/QuNC90YzQvtC90YsucG5nJyxcclxuICAgICAgICAn0JvRg9C6JzogJ9Cb0YPQui5wbmcnLFxyXG4gICAgICAgICfQpNC40LvQtSc6ICfQpNC40LvQtS5wbmcnLFxyXG4gICAgICAgICfQpNCw0YDRiCc6ICfQpNCw0YDRiC5wbmcnLFxyXG4gICAgICAgICfQntGF0L7RgtC90LjRh9GM0LgnOiAn0J7RhdC+0YLQvdC40YfRjNC4LnBuZycsXHJcbiAgICAgICAgJ9Ca0L7Qv9GH0LXQvdGL0LknOiAn0JrQvtC/0YfQtdC90YvQuS5wbmcnLFxyXG4gICAgICAgICfQktC10YLRh9C40L3QsCc6ICfQktC10YLRh9C40L3QsC5wbmcnLFxyXG4gICAgICAgICfQkdC10LrQvtC9JzogJ9CR0LXQutC+0L0ucG5nJyxcclxuICAgICAgICAn0J/QtdC/0L/QtdGA0L7QvdC4JzogJ9Cf0LXQv9C/0LXRgNC+0L3QuC5wbmcnLFxyXG4gICAgICAgICfQmtGA0LXQstC10YLQutC4JzogJ9Ca0YDQtdCy0LXRgtC60LgucG5nJyxcclxuICAgICAgICAn0JvQvtGB0L7RgdGMJzogJ9Cb0L7RgdC+0YHRjC5wbmcnLFxyXG4gICAgICAgICfQnNC40LTQuNC4JzogJ9Ck0LDRgNGILnBuZycsXHJcbiAgICAgICAgJ9Ch0LDQu9GP0LzQuCc6ICfQodCw0LvRj9C80LgucG5nJyxcclxuICAgICAgICAn0JzQvtGG0LDRgNC10LvQu9CwJzogJ9Cc0L7RhtCw0YDQtdC70LvQsC5wbmcnLFxyXG4gICAgICAgICfQn9Cw0YDQvNC10LfQsNC9JzogJ9Cf0LDRgNC80LXQt9Cw0L0ucG5nJyxcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiB1cGRhdGVQaXp6YShldmVudCkge1xyXG4gICAgICAgIGxldCAkcGl6emFTcGFuID0gZXZlbnQudGFyZ2V0LmNsb3Nlc3QoJy5tYWtlci1yb3dfX3Byb2R1Y3QnKS5xdWVyeVNlbGVjdG9yKCdzcGFuJylcclxuICAgICAgICBsZXQgJHBpenphVHlwZSA9IGV2ZW50LnRhcmdldC5jbG9zZXN0KCcubWFrZXItcm93X19wcm9kdWN0JykuZGF0YXNldC50eXBlXHJcbiAgICAgICAgbGV0IGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXHJcblxyXG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIGltYWdlcykge1xyXG5cclxuICAgICAgICAgICAgaWYgKCRwaXp6YVR5cGUgPT09IGtleSkge1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChwaXp6YVRlbXAuaW5jbHVkZXMoa2V5KSkge1xyXG4gICAgICAgICAgICAgICAgICAgICRwaXp6YVNwYW4uc3R5bGUuZGlzcGxheSA9ICdub25lJ1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCByZW1vdmUgPSAkcGl6emFDb250YWluZXIucXVlcnlTZWxlY3RvcihgW2RhdGEtYmc9JHtrZXl9XWApXHJcbiAgICAgICAgICAgICAgICAgICAgJHBpenphQ29udGFpbmVyLnJlbW92ZUNoaWxkKHJlbW92ZSlcclxuICAgICAgICAgICAgICAgICAgICBwaXp6YVRlbXAuc3BsaWNlKHBpenphVGVtcC5pbmRleE9mKCRwaXp6YVR5cGUpLCAxKVxyXG5cclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHBpenphU3Bhbi5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJ1xyXG4gICAgICAgICAgICAgICAgICAgIGRpdi5zZXRBdHRyaWJ1dGUoJ2RhdGEtYmcnLCAkcGl6emFUeXBlKVxyXG4gICAgICAgICAgICAgICAgICAgIGRpdi5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSBgdXJsKCcuL2Fzc2V0cy9pbWcvJHtpbWFnZXNba2V5XX0nKWBcclxuICAgICAgICAgICAgICAgICAgICBkaXYuc3R5bGUuekluZGV4ID0gcGl6emFMYXllcnNcclxuICAgICAgICAgICAgICAgICAgICAkcGl6emFDb250YWluZXIuYXBwZW5kQ2hpbGQoZGl2KVxyXG4gICAgICAgICAgICAgICAgICAgIHBpenphVGVtcC5wdXNoKGtleSlcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBwaXp6YUxheWVycysrXHJcbiAgICB9XHJcblxyXG4gICAgLy8gY2xlYXIgYWxsIGJ1dHRvblxyXG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnBpenphLW5ldycpLmZvckVhY2goZWwgPT4gZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbGVhclBpenphKSlcclxuXHJcbiAgICBmdW5jdGlvbiBjbGVhclBpenphKCkge1xyXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tYWtlcicpLnF1ZXJ5U2VsZWN0b3JBbGwoJy5tYWtlci1yb3dfX3Byb2R1Y3QnKS5mb3JFYWNoKGVsID0+IGVsLnF1ZXJ5U2VsZWN0b3IoJ3NwYW4nKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnKVxyXG4gICAgICAgICRwaXp6YUNvbnRhaW5lci5pbm5lckhUTUwgPSAnJ1xyXG4gICAgICAgIHBpenphTGF5ZXJzID0gMlxyXG4gICAgICAgIHBpenphVGVtcCA9IFtdXHJcbiAgICB9XHJcbn1cclxuXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuLy8gaWYgaGFsZiBwYWdlXHJcbmlmIChkb2N1bWVudC5ib2R5LmRhdGFzZXQucGFnZSA9PT0gJ2hhbGYtcGFnZScpIHtcclxuICAgIC8vIGFjY29yZGlvbiBtb2JpbGUgaGFsZiBwYWdlXHJcbiAgICBjb25zdCBhY2NvcmRpb25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmFjY29yZGlvbicpXHJcbiAgICBmb3IgKGNvbnN0IGFjY29yZGlvbiBvZiBhY2NvcmRpb25zKSB7XHJcbiAgICAgICAgY29uc3QgcGFuZWxzID0gYWNjb3JkaW9uLnF1ZXJ5U2VsZWN0b3JBbGwoJy5hY2NvcmRpb25fX3BhbmVsJylcclxuICAgICAgICBmb3IgKGNvbnN0IHBhbmVsIG9mIHBhbmVscykge1xyXG4gICAgICAgICAgICBjb25zdCBoZWFkID0gcGFuZWwucXVlcnlTZWxlY3RvcignLmFjY29yZGlvbl9faGVhZGVyJylcclxuICAgICAgICAgICAgaGVhZC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGZvciAoY29uc3Qgb3RoZXJQYW5lbCBvZiBwYW5lbHMpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAob3RoZXJQYW5lbCAhPT0gcGFuZWwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb3RoZXJQYW5lbC5jbGFzc0xpc3QucmVtb3ZlKCdhY2NvcmRpb25fX2V4cGFuZGVkJylcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHBhbmVsLmNsYXNzTGlzdC50b2dnbGUoJ2FjY29yZGlvbl9fZXhwYW5kZWQnKVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBoYWxmIHBhZ2UgYWRkIHBpenphIGl0ZW1zXHJcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaGFsZicpLnF1ZXJ5U2VsZWN0b3IoJy5tYWtlcl9fYm9keScpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdXBkYXRlSGFsZilcclxuICAgIGNvbnN0IHdhcm5pbmcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaGFsZicpLnF1ZXJ5U2VsZWN0b3JBbGwoJy5oYWxmX193YXJuaW5nJylcclxuXHJcbiAgICBjb25zdCAkaGFsZkNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oYWxmLXBpenphLWJnJylcclxuXHJcbiAgICBsZXQgaGFsZlRlbXAgPSBbXVxyXG4gICAgY29uc3QgZmlyc3RIYWxmID0gWycxJywnMicsJzMnLCc0JywnNScsJzYnLCc3JywnOCcsJzknLCcxMCcsJzExJywnMTInXVxyXG4gICAgY29uc3Qgc2Vjb25kSGFsZiA9IFsnMTMnLCcxNCcsJzE1JywnMTYnLCcxNycsJzE4JywnMTknLCcyMCcsJzIxJywnMjInLCcyMycsJzI0J11cclxuXHJcbiAgICBjb25zdCBpbWFnZXNIYWxmID0ge1xyXG4gICAgICAgICcxJzogJ9CQ0LTRgNC40LDQvdC+LdCY0YLQsNC70YzRj9C90L4ucG5nJyxcclxuICAgICAgICAnMic6ICfQodGL0YDQvdCw0Y8t0JHQsNC90LTQsC5wbmcnLFxyXG4gICAgICAgICczJzogJ9Ci0L7QvNCw0YLQvdGL0Lkt0KbRi9C/0LvQtdC90L7Qui5wbmcnLFxyXG4gICAgICAgICc0JzogJ9Cm0LXQt9Cw0YDRjC5wbmcnLFxyXG4gICAgICAgICc1JzogJ9CQ0L3QsNC90LDRgdC+0LLRi9C5LdCt0LrRgdC/0YDQtdGB0YEucG5nJyxcclxuICAgICAgICAnNic6ICfQkdC+0LvQs9Cw0YDRgdC60LjQuS3Qn9C10YDQtdGGLnBuZycsXHJcbiAgICAgICAgJzcnOiAn0JPRgNC40LHQvdCw0Y8t0KbRi9C/0LAucG5nJyxcclxuICAgICAgICAnOCc6ICfQlNC20L7QvdC4LdCf0LXQv9C10YDQvtC90LgucG5nJyxcclxuICAgICAgICAnOSc6ICfQlNC+0YfRjC3QnNGP0YHQvdC40LrQsC5wbmcnLFxyXG4gICAgICAgICcxMCc6ICfQnNCw0YDQs9C+LdCg0LjRgtCwLnBuZycsXHJcbiAgICAgICAgJzExJzogJ9Cf0LjQstC90LDRjy5wbmcnLFxyXG4gICAgICAgICcxMic6ICfQn9C+0LTQstC+0LTQvdCw0Y8t0JHRgNCw0YLQstCwLnBuZycsXHJcbiAgICAgICAgJzEzJzogJ9CQ0LTRgNC40LDQvdC+LdCY0YLQsNC70YzRj9C90L4ucG5nJyxcclxuICAgICAgICAnMTQnOiAn0KHRi9GA0L3QsNGPLdCR0LDQvdC00LAucG5nJyxcclxuICAgICAgICAnMTUnOiAn0KLQvtC80LDRgtC90YvQuS3QptGL0L/Qu9C10L3QvtC6LnBuZycsXHJcbiAgICAgICAgJzE2JzogJ9Cm0LXQt9Cw0YDRjC5wbmcnLFxyXG4gICAgICAgICcxNyc6ICfQkNC90LDQvdCw0YHQvtCy0YvQuS3QrdC60YHQv9GA0LXRgdGBLnBuZycsXHJcbiAgICAgICAgJzE4JzogJ9CR0L7Qu9Cz0LDRgNGB0LrQuNC5LdCf0LXRgNC10YYucG5nJyxcclxuICAgICAgICAnMTknOiAn0JPRgNC40LHQvdCw0Y8t0KbRi9C/0LAucG5nJyxcclxuICAgICAgICAnMjAnOiAn0JTQttC+0L3QuC3Qn9C10L/QtdGA0L7QvdC4LnBuZycsXHJcbiAgICAgICAgJzIxJzogJ9CU0L7Rh9GMLdCc0Y/RgdC90LjQutCwLnBuZycsXHJcbiAgICAgICAgJzIyJzogJ9Cc0LDRgNCz0L4t0KDQuNGC0LAucG5nJyxcclxuICAgICAgICAnMjMnOiAn0J/QuNCy0L3QsNGPLnBuZycsXHJcbiAgICAgICAgJzI0JzogJ9Cf0L7QtNCy0L7QtNC90LDRjy3QkdGA0LDRgtCy0LAucG5nJyxcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiB1cGRhdGVIYWxmKGV2ZW50KSB7XHJcbiAgICAgICAgbGV0ICRoYWxmU3BhbiwgJGhhbGZOdW1cclxuXHJcbiAgICAgICAgaWYgKGV2ZW50LnRhcmdldC5jbG9zZXN0KCcubWFrZXItcm93X19wcm9kdWN0JykpIHtcclxuICAgICAgICAgICAgJGhhbGZTcGFuID0gZXZlbnQudGFyZ2V0LmNsb3Nlc3QoJy5tYWtlci1yb3dfX3Byb2R1Y3QnKS5xdWVyeVNlbGVjdG9yKCdzcGFuJylcclxuICAgICAgICAgICAgJGhhbGZOdW0gPSBldmVudC50YXJnZXQuY2xvc2VzdCgnLm1ha2VyLXJvd19fcHJvZHVjdCcpLmRhdGFzZXQubnVtYmVyXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoaGFsZlRlbXAuaW5jbHVkZXMoJGhhbGZOdW0pKSB7XHJcbiAgICAgICAgICAgICRoYWxmU3Bhbi5yZW1vdmVBdHRyaWJ1dGUoJ3N0eWxlJylcclxuICAgICAgICAgICAgbGV0IHJlbW92ZSA9ICRoYWxmQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLWhhbGZiZz1cIiR7JGhhbGZOdW19XCJdYClcclxuICAgICAgICAgICAgJGhhbGZDb250YWluZXIucmVtb3ZlQ2hpbGQocmVtb3ZlKVxyXG4gICAgICAgICAgICBoYWxmVGVtcC5zcGxpY2UoaGFsZlRlbXAuaW5kZXhPZigkaGFsZk51bSksIDEpXHJcblxyXG4gICAgICAgIH0gZWxzZSBpZiAoaGFsZlRlbXAubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgIHB1c2hIYWxmKClcclxuXHJcbiAgICAgICAgfSBlbHNlIGlmIChoYWxmVGVtcC5sZW5ndGggPT09IDEpIHtcclxuICAgICAgICAgICAgaWYgKChmaXJzdEhhbGYuaW5jbHVkZXMoJGhhbGZOdW0pKSAmJiAoIWZpcnN0SGFsZi5pbmNsdWRlcyhoYWxmVGVtcFswXSkpIHx8XHJcbiAgICAgICAgICAgICgoc2Vjb25kSGFsZi5pbmNsdWRlcygkaGFsZk51bSkpICYmICghc2Vjb25kSGFsZi5pbmNsdWRlcyhoYWxmVGVtcFswXSkpKSkge1xyXG4gICAgICAgICAgICAgICAgcHVzaEhhbGYoKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoaGFsZlRlbXAubGVuZ3RoID09PSAyKSB7XHJcbiAgICAgICAgICAgIHdhcm5pbmcuZm9yRWFjaChlbCA9PiBlbC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnKVxyXG4gICAgICAgICAgICBpZiAoZGVza3RvcC5tYXRjaGVzKSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaGFsZicpLnF1ZXJ5U2VsZWN0b3IoJy5tYWtlcl9fYm9keScpLnN0eWxlLm1hcmdpblRvcCA9ICc4MHB4J1xyXG4gICAgICAgICAgICBpZiAobGFwdG9wLm1hdGNoZXMpIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oYWxmJykucXVlcnlTZWxlY3RvcignLm1ha2VyLXRleHRfX2NvbnRyb2wnKS5zdHlsZS5tYXJnaW5Ub3AgPSAnMzBweCdcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChoYWxmVGVtcC5sZW5ndGggPCAyKSB7XHJcbiAgICAgICAgICAgIGNsZWFyU3R5bGVzKClcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHB1c2hIYWxmKCkge1xyXG4gICAgICAgICAgICBoYWxmVGVtcC5wdXNoKCRoYWxmTnVtKVxyXG4gICAgICAgICAgICAkaGFsZlNwYW4uc3R5bGUuZGlzcGxheSA9ICdibG9jaydcclxuICAgICAgICAgICAgbGV0IGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXHJcblxyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBpbWFnZXNIYWxmKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoJGhhbGZOdW0gPT09IGtleSkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoZmlyc3RIYWxmLmluY2x1ZGVzKCRoYWxmTnVtKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGVza3RvcC5tYXRjaGVzKSBkaXYuY2xhc3NMaXN0LmFkZCgnaGFsZi1sZWZ0LWRlc2t0b3AnKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobGFwdG9wLm1hdGNoZXMpIGRpdi5jbGFzc0xpc3QuYWRkKCdoYWxmLWxlZnQtbGFwdG9wJylcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1vYmlsZS5tYXRjaGVzKSBkaXYuY2xhc3NMaXN0LmFkZCgnaGFsZi1sZWZ0LW1vYmlsZScpXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoc2Vjb25kSGFsZi5pbmNsdWRlcygkaGFsZk51bSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRlc2t0b3AubWF0Y2hlcykgZGl2LmNsYXNzTGlzdC5hZGQoJ2hhbGYtcmlnaHQtZGVza3RvcCcpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsYXB0b3AubWF0Y2hlcykgZGl2LmNsYXNzTGlzdC5hZGQoJ2hhbGYtcmlnaHQtbGFwdG9wJylcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1vYmlsZS5tYXRjaGVzKSBkaXYuY2xhc3NMaXN0LmFkZCgnaGFsZi1yaWdodC1tb2JpbGUnKVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZGl2LnNldEF0dHJpYnV0ZSgnZGF0YS1oYWxmYmcnLCAkaGFsZk51bSlcclxuICAgICAgICAgICAgICAgICAgICBkaXYuc3R5bGUuYmFja2dyb3VuZEltYWdlID0gYHVybCgnLi9hc3NldHMvaW1nLyR7aW1hZ2VzSGFsZltrZXldfScpYFxyXG4gICAgICAgICAgICAgICAgICAgICRoYWxmQ29udGFpbmVyLmFwcGVuZENoaWxkKGRpdilcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBjbGVhciBhbGwgYnV0dG9uXHJcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuaGFsZi1uZXcnKS5mb3JFYWNoKGVsID0+IGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xlYXJIYWxmKSlcclxuXHJcbiAgICBmdW5jdGlvbiBjbGVhckhhbGYoKSB7XHJcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhhbGYnKS5xdWVyeVNlbGVjdG9yQWxsKCcubWFrZXItcm93X19wcm9kdWN0JykuZm9yRWFjaChlbCA9PiB7XHJcbiAgICAgICAgICAgIGlmIChlbC5xdWVyeVNlbGVjdG9yKCdzcGFuJykuaGFzQXR0cmlidXRlKCdzdHlsZScpKSB7XHJcbiAgICAgICAgICAgICAgICBlbC5xdWVyeVNlbGVjdG9yKCdzcGFuJykucmVtb3ZlQXR0cmlidXRlKCdzdHlsZScpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICAgIGhhbGZUZW1wID0gW11cclxuICAgICAgICAkaGFsZkNvbnRhaW5lci5pbm5lckhUTUwgPSAnJ1xyXG4gICAgICAgIGNsZWFyU3R5bGVzKClcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBjbGVhclN0eWxlcygpIHtcclxuICAgICAgICBpZiAoZGVza3RvcC5tYXRjaGVzKSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcud2FybmluZ19fZGVza3RvcCcpLnN0eWxlLmRpc3BsYXkgPSAnZmxleCdcclxuICAgICAgICBpZiAobGFwdG9wLm1hdGNoZXMpIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy53YXJuaW5nX19sYXB0b3AnKS5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnXHJcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhhbGYnKS5xdWVyeVNlbGVjdG9yKCcubWFrZXJfX2JvZHknKS5zdHlsZS5tYXJnaW5Ub3AgPSAnMCdcclxuICAgICAgICBpZiAoZGVza3RvcC5tYXRjaGVzKSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaGFsZicpLnF1ZXJ5U2VsZWN0b3IoJy5tYWtlcl9fYm9keScpLnN0eWxlLm1hcmdpblRvcCA9ICcwJ1xyXG4gICAgICAgIGlmIChsYXB0b3AubWF0Y2hlcykgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhhbGYnKS5xdWVyeVNlbGVjdG9yKCcubWFrZXItdGV4dF9fY29udHJvbCcpLnN0eWxlLm1hcmdpblRvcCA9ICcwJ1xyXG4gICAgfVxyXG59XG4vKiFcbiAqIEBjb3B5cmlnaHQgQ29weXJpZ2h0IChjKSAyMDE3IEljb01vb24uaW9cbiAqIEBsaWNlbnNlICAgTGljZW5zZWQgdW5kZXIgTUlUIGxpY2Vuc2VcbiAqICAgICAgICAgICAgU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9LZXlhbW9vbi9zdmd4dXNlXG4gKiBAdmVyc2lvbiAgIDEuMi42XG4gKi9cbi8qanNsaW50IGJyb3dzZXI6IHRydWUgKi9cbi8qZ2xvYmFsIFhEb21haW5SZXF1ZXN0LCBNdXRhdGlvbk9ic2VydmVyLCB3aW5kb3cgKi9cbihmdW5jdGlvbiAoKSB7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgJiYgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIpIHtcbiAgICAgICAgdmFyIGNhY2hlID0gT2JqZWN0LmNyZWF0ZShudWxsKTsgLy8gaG9sZHMgeGhyIG9iamVjdHMgdG8gcHJldmVudCBtdWx0aXBsZSByZXF1ZXN0c1xuICAgICAgICB2YXIgY2hlY2tVc2VFbGVtcztcbiAgICAgICAgdmFyIHRpZDsgLy8gdGltZW91dCBpZFxuICAgICAgICB2YXIgZGVib3VuY2VkQ2hlY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGlkKTtcbiAgICAgICAgICAgIHRpZCA9IHNldFRpbWVvdXQoY2hlY2tVc2VFbGVtcywgMTAwKTtcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIHVub2JzZXJ2ZUNoYW5nZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH07XG4gICAgICAgIHZhciBvYnNlcnZlQ2hhbmdlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBvYnNlcnZlcjtcbiAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicmVzaXplXCIsIGRlYm91bmNlZENoZWNrLCBmYWxzZSk7XG4gICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm9yaWVudGF0aW9uY2hhbmdlXCIsIGRlYm91bmNlZENoZWNrLCBmYWxzZSk7XG4gICAgICAgICAgICBpZiAod2luZG93Lk11dGF0aW9uT2JzZXJ2ZXIpIHtcbiAgICAgICAgICAgICAgICBvYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKGRlYm91bmNlZENoZWNrKTtcbiAgICAgICAgICAgICAgICBvYnNlcnZlci5vYnNlcnZlKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCwge1xuICAgICAgICAgICAgICAgICAgICBjaGlsZExpc3Q6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIHN1YnRyZWU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXM6IHRydWVcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB1bm9ic2VydmVDaGFuZ2VzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgb2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgZGVib3VuY2VkQ2hlY2ssIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwib3JpZW50YXRpb25jaGFuZ2VcIiwgZGVib3VuY2VkQ2hlY2ssIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoaWdub3JlKSB7fVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiRE9NU3VidHJlZU1vZGlmaWVkXCIsIGRlYm91bmNlZENoZWNrLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgdW5vYnNlcnZlQ2hhbmdlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJET01TdWJ0cmVlTW9kaWZpZWRcIiwgZGVib3VuY2VkQ2hlY2ssIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgZGVib3VuY2VkQ2hlY2ssIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJvcmllbnRhdGlvbmNoYW5nZVwiLCBkZWJvdW5jZWRDaGVjaywgZmFsc2UpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHZhciBjcmVhdGVSZXF1ZXN0ID0gZnVuY3Rpb24gKHVybCkge1xuICAgICAgICAgICAgLy8gSW4gSUUgOSwgY3Jvc3Mgb3JpZ2luIHJlcXVlc3RzIGNhbiBvbmx5IGJlIHNlbnQgdXNpbmcgWERvbWFpblJlcXVlc3QuXG4gICAgICAgICAgICAvLyBYRG9tYWluUmVxdWVzdCB3b3VsZCBmYWlsIGlmIENPUlMgaGVhZGVycyBhcmUgbm90IHNldC5cbiAgICAgICAgICAgIC8vIFRoZXJlZm9yZSwgWERvbWFpblJlcXVlc3Qgc2hvdWxkIG9ubHkgYmUgdXNlZCB3aXRoIGNyb3NzIG9yaWdpbiByZXF1ZXN0cy5cbiAgICAgICAgICAgIGZ1bmN0aW9uIGdldE9yaWdpbihsb2MpIHtcbiAgICAgICAgICAgICAgICB2YXIgYTtcbiAgICAgICAgICAgICAgICBpZiAobG9jLnByb3RvY29sICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgYSA9IGxvYztcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImFcIik7XG4gICAgICAgICAgICAgICAgICAgIGEuaHJlZiA9IGxvYztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGEucHJvdG9jb2wucmVwbGFjZSgvOi9nLCBcIlwiKSArIGEuaG9zdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBSZXF1ZXN0O1xuICAgICAgICAgICAgdmFyIG9yaWdpbjtcbiAgICAgICAgICAgIHZhciBvcmlnaW4yO1xuICAgICAgICAgICAgaWYgKHdpbmRvdy5YTUxIdHRwUmVxdWVzdCkge1xuICAgICAgICAgICAgICAgIFJlcXVlc3QgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcbiAgICAgICAgICAgICAgICBvcmlnaW4gPSBnZXRPcmlnaW4obG9jYXRpb24pO1xuICAgICAgICAgICAgICAgIG9yaWdpbjIgPSBnZXRPcmlnaW4odXJsKTtcbiAgICAgICAgICAgICAgICBpZiAoUmVxdWVzdC53aXRoQ3JlZGVudGlhbHMgPT09IHVuZGVmaW5lZCAmJiBvcmlnaW4yICE9PSBcIlwiICYmIG9yaWdpbjIgIT09IG9yaWdpbikge1xuICAgICAgICAgICAgICAgICAgICBSZXF1ZXN0ID0gWERvbWFpblJlcXVlc3QgfHwgdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIFJlcXVlc3QgPSBYTUxIdHRwUmVxdWVzdDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gUmVxdWVzdDtcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIHhsaW5rTlMgPSBcImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmtcIjtcbiAgICAgICAgY2hlY2tVc2VFbGVtcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBiYXNlO1xuICAgICAgICAgICAgdmFyIGJjcjtcbiAgICAgICAgICAgIHZhciBmYWxsYmFjayA9IFwiXCI7IC8vIG9wdGlvbmFsIGZhbGxiYWNrIFVSTCBpbiBjYXNlIG5vIGJhc2UgcGF0aCB0byBTVkcgZmlsZSB3YXMgZ2l2ZW4gYW5kIG5vIHN5bWJvbCBkZWZpbml0aW9uIHdhcyBmb3VuZC5cbiAgICAgICAgICAgIHZhciBoYXNoO1xuICAgICAgICAgICAgdmFyIGhyZWY7XG4gICAgICAgICAgICB2YXIgaTtcbiAgICAgICAgICAgIHZhciBpblByb2dyZXNzQ291bnQgPSAwO1xuICAgICAgICAgICAgdmFyIGlzSGlkZGVuO1xuICAgICAgICAgICAgdmFyIFJlcXVlc3Q7XG4gICAgICAgICAgICB2YXIgdXJsO1xuICAgICAgICAgICAgdmFyIHVzZXM7XG4gICAgICAgICAgICB2YXIgeGhyO1xuICAgICAgICAgICAgZnVuY3Rpb24gb2JzZXJ2ZUlmRG9uZSgpIHtcbiAgICAgICAgICAgICAgICAvLyBJZiBkb25lIHdpdGggbWFraW5nIGNoYW5nZXMsIHN0YXJ0IHdhdGNoaW5nIGZvciBjaGFnbmVzIGluIERPTSBhZ2FpblxuICAgICAgICAgICAgICAgIGluUHJvZ3Jlc3NDb3VudCAtPSAxO1xuICAgICAgICAgICAgICAgIGlmIChpblByb2dyZXNzQ291bnQgPT09IDApIHsgLy8gaWYgYWxsIHhocnMgd2VyZSByZXNvbHZlZFxuICAgICAgICAgICAgICAgICAgICB1bm9ic2VydmVDaGFuZ2VzKCk7IC8vIG1ha2Ugc3VyZSB0byByZW1vdmUgb2xkIGhhbmRsZXJzXG4gICAgICAgICAgICAgICAgICAgIG9ic2VydmVDaGFuZ2VzKCk7IC8vIHdhdGNoIGZvciBjaGFuZ2VzIHRvIERPTVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZ1bmN0aW9uIGF0dHJVcGRhdGVGdW5jKHNwZWMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoY2FjaGVbc3BlYy5iYXNlXSAhPT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3BlYy51c2VFbC5zZXRBdHRyaWJ1dGVOUyh4bGlua05TLCBcInhsaW5rOmhyZWZcIiwgXCIjXCIgKyBzcGVjLmhhc2gpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNwZWMudXNlRWwuaGFzQXR0cmlidXRlKFwiaHJlZlwiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNwZWMudXNlRWwuc2V0QXR0cmlidXRlKFwiaHJlZlwiLCBcIiNcIiArIHNwZWMuaGFzaCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZnVuY3Rpb24gb25sb2FkRnVuYyh4aHIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgYm9keSA9IGRvY3VtZW50LmJvZHk7XG4gICAgICAgICAgICAgICAgICAgIHZhciB4ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInhcIik7XG4gICAgICAgICAgICAgICAgICAgIHZhciBzdmc7XG4gICAgICAgICAgICAgICAgICAgIHhoci5vbmxvYWQgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICB4LmlubmVySFRNTCA9IHhoci5yZXNwb25zZVRleHQ7XG4gICAgICAgICAgICAgICAgICAgIHN2ZyA9IHguZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJzdmdcIilbMF07XG4gICAgICAgICAgICAgICAgICAgIGlmIChzdmcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN2Zy5zZXRBdHRyaWJ1dGUoXCJhcmlhLWhpZGRlblwiLCBcInRydWVcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdmcuc3R5bGUucG9zaXRpb24gPSBcImFic29sdXRlXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdmcuc3R5bGUud2lkdGggPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3ZnLnN0eWxlLmhlaWdodCA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdmcuc3R5bGUub3ZlcmZsb3cgPSBcImhpZGRlblwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgYm9keS5pbnNlcnRCZWZvcmUoc3ZnLCBib2R5LmZpcnN0Q2hpbGQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG9ic2VydmVJZkRvbmUoKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZnVuY3Rpb24gb25FcnJvclRpbWVvdXQoeGhyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgeGhyLm9uZXJyb3IgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICB4aHIub250aW1lb3V0ID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgb2JzZXJ2ZUlmRG9uZSgpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB1bm9ic2VydmVDaGFuZ2VzKCk7IC8vIHN0b3Agd2F0Y2hpbmcgZm9yIGNoYW5nZXMgdG8gRE9NXG4gICAgICAgICAgICAvLyBmaW5kIGFsbCB1c2UgZWxlbWVudHNcbiAgICAgICAgICAgIHVzZXMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcInVzZVwiKTtcbiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCB1c2VzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgYmNyID0gdXNlc1tpXS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChpZ25vcmUpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gZmFpbGVkIHRvIGdldCBib3VuZGluZyByZWN0YW5nbGUgb2YgdGhlIHVzZSBlbGVtZW50XG4gICAgICAgICAgICAgICAgICAgIGJjciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBocmVmID0gdXNlc1tpXS5nZXRBdHRyaWJ1dGUoXCJocmVmXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICB8fCB1c2VzW2ldLmdldEF0dHJpYnV0ZU5TKHhsaW5rTlMsIFwiaHJlZlwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgfHwgdXNlc1tpXS5nZXRBdHRyaWJ1dGUoXCJ4bGluazpocmVmXCIpO1xuICAgICAgICAgICAgICAgIGlmIChocmVmICYmIGhyZWYuc3BsaXQpIHtcbiAgICAgICAgICAgICAgICAgICAgdXJsID0gaHJlZi5zcGxpdChcIiNcIik7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdXJsID0gW1wiXCIsIFwiXCJdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBiYXNlID0gdXJsWzBdO1xuICAgICAgICAgICAgICAgIGhhc2ggPSB1cmxbMV07XG4gICAgICAgICAgICAgICAgaXNIaWRkZW4gPSBiY3IgJiYgYmNyLmxlZnQgPT09IDAgJiYgYmNyLnJpZ2h0ID09PSAwICYmIGJjci50b3AgPT09IDAgJiYgYmNyLmJvdHRvbSA9PT0gMDtcbiAgICAgICAgICAgICAgICBpZiAoYmNyICYmIGJjci53aWR0aCA9PT0gMCAmJiBiY3IuaGVpZ2h0ID09PSAwICYmICFpc0hpZGRlbikge1xuICAgICAgICAgICAgICAgICAgICAvLyB0aGUgdXNlIGVsZW1lbnQgaXMgZW1wdHlcbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgdGhlcmUgaXMgYSByZWZlcmVuY2UgdG8gYW4gZXh0ZXJuYWwgU1ZHLCB0cnkgdG8gZmV0Y2ggaXRcbiAgICAgICAgICAgICAgICAgICAgLy8gdXNlIHRoZSBvcHRpb25hbCBmYWxsYmFjayBVUkwgaWYgdGhlcmUgaXMgbm8gcmVmZXJlbmNlIHRvIGFuIGV4dGVybmFsIFNWR1xuICAgICAgICAgICAgICAgICAgICBpZiAoZmFsbGJhY2sgJiYgIWJhc2UubGVuZ3RoICYmIGhhc2ggJiYgIWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGhhc2gpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBiYXNlID0gZmFsbGJhY2s7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHVzZXNbaV0uaGFzQXR0cmlidXRlKFwiaHJlZlwiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdXNlc1tpXS5zZXRBdHRyaWJ1dGVOUyh4bGlua05TLCBcInhsaW5rOmhyZWZcIiwgaHJlZik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGJhc2UubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBzY2hlZHVsZSB1cGRhdGluZyB4bGluazpocmVmXG4gICAgICAgICAgICAgICAgICAgICAgICB4aHIgPSBjYWNoZVtiYXNlXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh4aHIgIT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB0cnVlIHNpZ25pZmllcyB0aGF0IHByZXBlbmRpbmcgdGhlIFNWRyB3YXMgbm90IHJlcXVpcmVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChhdHRyVXBkYXRlRnVuYyh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZUVsOiB1c2VzW2ldLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYXNlOiBiYXNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYXNoOiBoYXNoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSksIDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHhociA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgUmVxdWVzdCA9IGNyZWF0ZVJlcXVlc3QoYmFzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFJlcXVlc3QgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB4aHIgPSBuZXcgUmVxdWVzdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWNoZVtiYXNlXSA9IHhocjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeGhyLm9ubG9hZCA9IG9ubG9hZEZ1bmMoeGhyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeGhyLm9uZXJyb3IgPSBvbkVycm9yVGltZW91dCh4aHIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB4aHIub250aW1lb3V0ID0gb25FcnJvclRpbWVvdXQoeGhyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeGhyLm9wZW4oXCJHRVRcIiwgYmFzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHhoci5zZW5kKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluUHJvZ3Jlc3NDb3VudCArPSAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghaXNIaWRkZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjYWNoZVtiYXNlXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gcmVtZW1iZXIgdGhpcyBVUkwgaWYgdGhlIHVzZSBlbGVtZW50IHdhcyBub3QgZW1wdHkgYW5kIG5vIHJlcXVlc3Qgd2FzIHNlbnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWNoZVtiYXNlXSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGNhY2hlW2Jhc2VdLm9ubG9hZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlmIGl0IHR1cm5zIG91dCB0aGF0IHByZXBlbmRpbmcgdGhlIFNWRyBpcyBub3QgbmVjZXNzYXJ5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGFib3J0IHRoZSBpbi1wcm9ncmVzcyB4aHIuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FjaGVbYmFzZV0uYWJvcnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgY2FjaGVbYmFzZV0ub25sb2FkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhY2hlW2Jhc2VdID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChiYXNlLmxlbmd0aCAmJiBjYWNoZVtiYXNlXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChhdHRyVXBkYXRlRnVuYyh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlRWw6IHVzZXNbaV0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFzZTogYmFzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYXNoOiBoYXNoXG4gICAgICAgICAgICAgICAgICAgICAgICB9KSwgMCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB1c2VzID0gXCJcIjtcbiAgICAgICAgICAgIGluUHJvZ3Jlc3NDb3VudCArPSAxO1xuICAgICAgICAgICAgb2JzZXJ2ZUlmRG9uZSgpO1xuICAgICAgICB9O1xuICAgICAgICB2YXIgd2luTG9hZDtcbiAgICAgICAgd2luTG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwibG9hZFwiLCB3aW5Mb2FkLCBmYWxzZSk7IC8vIHRvIHByZXZlbnQgbWVtb3J5IGxlYWtzXG4gICAgICAgICAgICB0aWQgPSBzZXRUaW1lb3V0KGNoZWNrVXNlRWxlbXMsIDApO1xuICAgICAgICB9O1xuICAgICAgICBpZiAoZG9jdW1lbnQucmVhZHlTdGF0ZSAhPT0gXCJjb21wbGV0ZVwiKSB7XG4gICAgICAgICAgICAvLyBUaGUgbG9hZCBldmVudCBmaXJlcyB3aGVuIGFsbCByZXNvdXJjZXMgaGF2ZSBmaW5pc2hlZCBsb2FkaW5nLCB3aGljaCBhbGxvd3MgZGV0ZWN0aW5nIHdoZXRoZXIgU1ZHIHVzZSBlbGVtZW50cyBhcmUgZW1wdHkuXG4gICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIiwgd2luTG9hZCwgZmFsc2UpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gTm8gbmVlZCB0byBhZGQgYSBsaXN0ZW5lciBpZiB0aGUgZG9jdW1lbnQgaXMgYWxyZWFkeSBsb2FkZWQsIGluaXRpYWxpemUgaW1tZWRpYXRlbHkuXG4gICAgICAgICAgICB3aW5Mb2FkKCk7XG4gICAgICAgIH1cbiAgICB9XG59KCkpO1xuIl0sImZpbGUiOiJzY3JpcHRzLm1pbi5qcyJ9
